<!DOCTYPE html> 
  
 <html>
    <head>
        <title>Basic scene</title> 
        <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"> 
  
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1"> 
        <style type="text/css"> 
            body { 
                background-color: #99ccff; 
                overflow: hidden; 
            } 
        </style> 
        <script src="three.js"></script> 
        <script src="Detector.js"></script> 
    </head> 
    <body>
        <div id="WebGLCanvas"> </div> 
  
        <script> 
            function initializeScene() {
                if(Detector.webgl){ 
                    renderer = new THREE.WebGLRenderer({antialias:true}); 
                } else { 
                    renderer = new THREE.CanvasRenderer(); 
                } 
                renderer.setClearColor(0x99ccff, 1); 

                canvasWidth = window.innerWidth; 
                canvasHeight = window.innerHeight;

                renderer.setSize(canvasWidth, canvasHeight); 
                
                document.getElementById("WebGLCanvas").appendChild(renderer.domElement); 
                return new THREE.Scene(); 
            }

            function initializeCamera(scene) {
                let camera = new THREE.PerspectiveCamera(45, canvasWidth / canvasHeight, 1, 100); 
                camera.position.set(30, 15, 10); 
                camera.lookAt(scene.position); 
                scene.add(camera); 
                return camera
            }

            function initializeGround(scene) { 
                let groundGeometry = new THREE.BoxGeometry(30, 0.1, 30); 
                let groundMaterial = new THREE.MeshBasicMaterial({
                    color: 0x00b000,
                    side: THREE.DoubleSide
                }); 

                let groundMesh = new THREE.Mesh(groundGeometry, groundMaterial)
                groundMesh.position.set(0, 0, 0)

                scene.add(groundMesh); 
            } 

            function initializeTree(scene, segments, x, z) {
                let treeGeometry = new THREE.ConeGeometry( 1, 2, 32 );
                let treeMaterial = new THREE.MeshBasicMaterial( {color: 0x004000} );

                let trunkGeometry = new THREE.CylinderGeometry( 0.3, 0.3, 1, 32 );
                let trunkMaterial = new THREE.MeshBasicMaterial( {color: 0x854513} );

                trunk = new THREE.Mesh(trunkGeometry, trunkMaterial);
                trunk.position.set(x, 0.5, z)
                scene.add(trunk)

                

                for (let i = 0; i < segments; i++){
                    tree = new THREE.Mesh( treeGeometry, treeMaterial );
                    tree.position.set(x, (2 + i), z)
                    scene.add( tree );
                }
            }
            
            const scene = initializeScene(); 
            const camera = initializeCamera(scene)
            initializeGround(scene)
            initializeTree(scene, 3, -10, 7)
            initializeTree(scene, 3, 10, -8)
            initializeTree(scene, 3, 10, 10)
            initializeTree(scene, 4, 0, 13)
            animateScene(); 

            function animateScene(){ 
                requestAnimationFrame(animateScene); 
                renderScene(); 
            } 

            function renderScene(){ 
                renderer.render(scene, camera); 
            } 
        </script> 
    </body> 
</html>